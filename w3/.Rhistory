axis(1, cex.axis=0.5, labels=levels(bymedian), at=1:length(levels(bymedian)))
#boxplot(death ~ state)
#title(main="Heart Attack 30-day Death Rate by State", ylab="30-day Death Rate")
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
outcome[, 11] <- as.numeric(outcome[, 11])
outcome2 <- subset(outcome, table(outcome$State)[State] >= 20)
#outcome2 <- subset(outcome, State %in% names(table(State)[table(State)>20]))
#statesOverThreshold <- names(subset(table(outcome$State), table(outcome$State) >= 20))
#outcome2 <- outcome[outcome$State %in% statesOverThreshold, ]
death <- outcome2[, 11]
state <- outcome2$State
par(las=2)
outcome2$Death <- as.numeric(outcome2[, 11])
#bymedian <- with(outcome2, reorder(state, death, median, na.rm=T))
bymedian <- reorder(state, death, median, na.rm=T)
boxplot(death ~ bymedian, data = outcome2, xaxt="n",
ylab="30-day Death Rate", main="Heart Attack 30-day Death Rate by State")
axis(1, cex.axis=0.5, labels=levels(bymedian), at=1:length(levels(bymedian)), las=2)
#boxplot(death ~ state)
#title(main="Heart Attack 30-day Death Rate by State", ylab="30-day Death Rate")
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
outcome[, 11] <- as.numeric(outcome[, 11])
outcome2 <- subset(outcome, table(outcome$State)[State] >= 20)
#outcome2 <- subset(outcome, State %in% names(table(State)[table(State)>20]))
#statesOverThreshold <- names(subset(table(outcome$State), table(outcome$State) >= 20))
#outcome2 <- outcome[outcome$State %in% statesOverThreshold, ]
death <- outcome2[, 11]
state <- outcome2$State
par(las=2)
outcome2$Death <- as.numeric(outcome2[, 11])
#bymedian <- with(outcome2, reorder(state, death, median, na.rm=T))
bymedian <- reorder(state, death, median, na.rm=T)
boxplot(death ~ bymedian, data = outcome2, xaxt="n",
ylab="30-day Death Rate", main="Heart Attack 30-day Death Rate by State")
#axis(1, cex.axis=0.5, labels=levels(bymedian), at=1:length(levels(bymedian)))
axis(1, cex.axis=0.5, labels=paste(levels(bymedian), " (", table(by.median)[levels(by.median)], ")"))
#boxplot(death ~ state)
#title(main="Heart Attack 30-day Death Rate by State", ylab="30-day Death Rate")
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
outcome[, 11] <- as.numeric(outcome[, 11])
outcome2 <- subset(outcome, table(outcome$State)[State] >= 20)
#outcome2 <- subset(outcome, State %in% names(table(State)[table(State)>20]))
#statesOverThreshold <- names(subset(table(outcome$State), table(outcome$State) >= 20))
#outcome2 <- outcome[outcome$State %in% statesOverThreshold, ]
death <- outcome2[, 11]
state <- outcome2$State
par(las=2)
outcome2$Death <- as.numeric(outcome2[, 11])
#bymedian <- with(outcome2, reorder(state, death, median, na.rm=T))
bymedian <- reorder(state, death, median, na.rm=T)
boxplot(death ~ bymedian, data = outcome2, xaxt="n",
ylab="30-day Death Rate", main="Heart Attack 30-day Death Rate by State")
#axis(1, cex.axis=0.5, labels=levels(bymedian), at=1:length(levels(bymedian)))
axis(1, cex.axis=0.5, labels=paste(levels(bymedian), " (", table(bymedian)[levels(by.median)], ")"))
#boxplot(death ~ state)
#title(main="Heart Attack 30-day Death Rate by State", ylab="30-day Death Rate")
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
outcome[, 11] <- as.numeric(outcome[, 11])
outcome2 <- subset(outcome, table(outcome$State)[State] >= 20)
#outcome2 <- subset(outcome, State %in% names(table(State)[table(State)>20]))
#statesOverThreshold <- names(subset(table(outcome$State), table(outcome$State) >= 20))
#outcome2 <- outcome[outcome$State %in% statesOverThreshold, ]
death <- outcome2[, 11]
state <- outcome2$State
par(las=2)
outcome2$Death <- as.numeric(outcome2[, 11])
#bymedian <- with(outcome2, reorder(state, death, median, na.rm=T))
bymedian <- reorder(state, death, median, na.rm=T)
boxplot(death ~ bymedian, data = outcome2, xaxt="n",
ylab="30-day Death Rate", main="Heart Attack 30-day Death Rate by State")
#axis(1, cex.axis=0.5, labels=levels(bymedian), at=1:length(levels(bymedian)))
axis(1, cex.axis=0.5, labels=paste(levels(bymedian), " (", table(bymedian)[levels(bymedian)], ")"))
#boxplot(death ~ state)
#title(main="Heart Attack 30-day Death Rate by State", ylab="30-day Death Rate")
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
outcome[, 11] <- as.numeric(outcome[, 11])
outcome2 <- subset(outcome, table(outcome$State)[State] >= 20)
#outcome2 <- subset(outcome, State %in% names(table(State)[table(State)>20]))
#statesOverThreshold <- names(subset(table(outcome$State), table(outcome$State) >= 20))
#outcome2 <- outcome[outcome$State %in% statesOverThreshold, ]
death <- outcome2[, 11]
state <- outcome2$State
par(las=2)
outcome2$Death <- as.numeric(outcome2[, 11])
#bymedian <- with(outcome2, reorder(state, death, median, na.rm=T))
bymedian <- reorder(state, death, median, na.rm=T)
boxplot(death ~ bymedian, data = outcome2, xaxt="n",
ylab="30-day Death Rate", main="Heart Attack 30-day Death Rate by State")
#axis(1, cex.axis=0.5, labels=levels(bymedian), at=1:length(levels(bymedian)))
axis(1, cex.axis=0.5, labels=paste(levels(bymedian), " (", table(bymedian)[levels(bymedian)], ")") , at=1:length(levels(bymedian)))
#boxplot(death ~ state)
#title(main="Heart Attack 30-day Death Rate by State", ylab="30-day Death Rate")
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
outcome[, 11] <- as.numeric(outcome[, 11])
outcome2 <- subset(outcome, table(outcome$State)[State] >= 20)
#outcome2 <- subset(outcome, State %in% names(table(State)[table(State)>20]))
#statesOverThreshold <- names(subset(table(outcome$State), table(outcome$State) >= 20))
#outcome2 <- outcome[outcome$State %in% statesOverThreshold, ]
death <- outcome2[, 11]
state <- outcome2$State
par(las=2)
outcome2$Death <- as.numeric(outcome2[, 11])
#bymedian <- with(outcome2, reorder(state, death, median, na.rm=T))
bymedian <- reorder(state, death, median, na.rm=T)
boxplot(death ~ bymedian, data = outcome2, xaxt="n",
ylab="30-day Death Rate", main="Heart Attack 30-day Death Rate by State")
#axis(1, cex.axis=0.5, labels=levels(bymedian), at=1:length(levels(bymedian)))
axis(1, cex.axis=0.7, labels=paste(levels(bymedian), " (", table(bymedian)[levels(bymedian)], ")") , at=1:length(levels(bymedian)))
#boxplot(death ~ state)
#title(main="Heart Attack 30-day Death Rate by State", ylab="30-day Death Rate")
?xyplot
??xyplot
library(lattice)
?xyplot
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
hospital <- read.csv("hospital-data.csv", colClasses = "character")
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
outcome.hospital <- merge(outcome, hospital, by = "Provider.Number")
death <- as.numeric(outcome.hospital[, 11]) ## Heart attack outcome
npatient <- as.numeric(outcome.hospital[, 15])
owner <- factor(outcome.hospital$Hospital.Ownership)
xyplot(death ~ npatient | owner)
library(lattice)
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
hospital <- read.csv("hospital-data.csv", colClasses = "character")
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
outcome.hospital <- merge(outcome, hospital, by = "Provider.Number")
death <- as.numeric(outcome.hospital[, 11]) ## Heart attack outcome
npatient <- as.numeric(outcome.hospital[, 15])
owner <- factor(outcome.hospital$Hospital.Ownership)
xyplot(death ~ npatient | owner, xlab = "Number of Patients Seen", ylab = "30-day Death Rate", main = "Heart Attack 30-day Death Rate by Ownership")
library(lattice)
?xyplot
panel.lmline
?panel.lmline
?lmline
?panel.lmline
?lm
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
hospital <- read.csv("hospital-data.csv", colClasses = "character")
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
outcome.hospital <- merge(outcome, hospital, by = "Provider.Number")
death <- as.numeric(outcome.hospital[, 11]) ## Heart attack outcome
npatient <- as.numeric(outcome.hospital[, 15])
owner <- factor(outcome.hospital$Hospital.Ownership)
library(lattice)
xyplot(death ~ npatient | owner,
xlab = "Number of Patients Seen",
ylab = "30-day Death Rate",
main = "Heart Attack 30-day Death Rate by Ownership",
panel = function(x, y, ...){
panel.xyplot(x, y, ...)
panel.lmline(y ~ x)
})
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
hospital <- read.csv("hospital-data.csv", colClasses = "character")
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
outcome.hospital <- merge(outcome, hospital, by = "Provider.Number")
death <- as.numeric(outcome.hospital[, 11]) ## Heart attack outcome
npatient <- as.numeric(outcome.hospital[, 15])
owner <- factor(outcome.hospital$Hospital.Ownership)
library(lattice)
xyplot(death ~ npatient | owner,
xlab = "Number of Patients Seen",
ylab = "30-day Death Rate",
main = "Heart Attack 30-day Death Rate by Ownership",
panel = function(x, y, ...){
panel.xyplot(x, y, ...)
panel.lmline(y,  x)
})
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
hospital <- read.csv("hospital-data.csv", colClasses = "character")
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
outcome.hospital <- merge(outcome, hospital, by = "Provider.Number")
death <- as.numeric(outcome.hospital[, 11]) ## Heart attack outcome
npatient <- as.numeric(outcome.hospital[, 15])
owner <- factor(outcome.hospital$Hospital.Ownership)
library(lattice)
xyplot(death ~ npatient | owner,
xlab = "Number of Patients Seen",
ylab = "30-day Death Rate",
main = "Heart Attack 30-day Death Rate by Ownership",
panel = function(x, y, ...){
panel.xyplot(x, y, ...)
panel.lmline(x, y)
})
head(outcome)
?yable
?table
?switch
?min
source("best.R")
source("best.R")
source("best.R")
source("best.R")
?switch
source("best.R")
source("best.R")
source("best.R")
source("best.R")
source("best.R")
best("TX", "heart attack")
summary(data)
source("best.R")
best("TX", "heart attack")
d <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
states <- table(d$State)[State]
d$Satet
d$State
unique(d$state)
unique(d$State)
source("best.R")
best("TX", "heart attack")
source("best.R")
best("TX", "heart attack")
source("best.R")
best("TX", "heart attack")
print(best("TX", "heart attack"))
res.ha <- as.numeric(d[,11])
res.hf <- as.numeric(d[,17])
res.p <- as.numeric(d[,23])
res.ha <- res.ha[!is.na(res.ha)]
res.hf <- res.hf[!is.na(res.hf)]
res.p <- res.p[!is.na(res.p)]
source("best.R")
best("TX", "heart attack")
d$State
d[d$State==state]
d[State==state]
d[which(State=="TX")]
d[which(d$State=="TX")]
head(d)
d$State
d[which(d$State=="TX"),]
d[which(d$State=="TX"),]
head(d[which(d$State=="TX"),])
d <- d[which(State=="TX"),]
x <- d[which(d$State=="TX"),]
x[x[i] == min(x[i])]
x[x[i] == min(x[11])]
x[x[11] == min(x[11])]
x[11]
min(x[11])
rm
?rm
min(x[11], na.rm=T)
?min
min(x[11], na.rm=True)
min(x[11], na.rm=TRUE)
x[11]
x[which.min(x[,11]),1]
x[which.min(x[,11], na.rn=T),1]
x[which.min(x[,11], na.rm=T),1]
which.min(x[,11])
x[which.min(x[,11])]
x[which.min(x[,11]), ]
x[which.min(x[,11]), ]$Hospital.Name
x[c(T, T), ]$Hospital.Name
which.min(x[,11])
x[c(359, 361), ]$Hospital.Name
order(x[c(359, 361), ]$Hospital.Name)
reorder(x[c(359, 361), ]$Hospital.Name)
sort(x[c(359, 361), ]$Hospital.Name)
sort(x[c(359, 361), ]$Hospital.Name)[1]
which.min(x[,11])
x[which.min(x[,11])]
x[which.min(x[,11]), ]
sort(x[c(359, 361), ]$Hospital.Name)[1]
source("best"best.R"")
source("best"best.R)
source("best"best.R")
source("best.R")
best("TX", "heart attack")
source("best.R")
best("TX", "heart attack")
best("TX", "heart failure")
best("TX", "heart failure")
source("best.R")
best("TX", "heart failure")
best("MD", "heart attack")
best("MD", "pneumonia")
best("BB", "heart attack")
best("NY", "hert attack")
source("best.R")
best("NY", "hert attack")
source("best.R")
best("NY", "hert attack")
source("best.R")
best("NY", "hert attack")
source("http://spark-public.s3.amazonaws.com/compdata/scripts/submitscript.R")
submit()
submit()
submit()
summary(d)
?sort
?order
source("rankhospital.R")
rankhospital("TX", "heart failure", 4)
print(rankhospital("TX", "heart failure", 4))
?nrows
?nrow
?sort
source("rankhospital.R")
source("rankhospital.R")
rankhospital("TX", "heart failure", 4)
source("rankhospital.R")
rankhospital("TX", "heart failure", 4)
source("rankhospital.R")
rankhospital("TX", "heart failure", 4)
d[!is.na(d[11, ])]
d
is.na(d[11, ])
!is.na(d[11, ])
!is.na(d[11, ])
sum(d[!is.na(d[i, ])])
nrow(d[!is.na(d[i, ])])
yy <- d[!is.na(d[i, ])]
nrow(d[!is.na(d[11, ])])
nrow(d[is.na(d[11, ])])
nrow(is.na(d[11, ]))
nrow(!is.na(d[11, ]))
is.na(d[11, ])
sum(is.na(d[11, ]))
str(is.na(d[11, ]))
str(!is.na(d[11, ]))
?omit
na.omit
?na.omit
is.na(d[,11])
!is.na(d[,11])
nrow(is.na(d[,11]) == TRUE)
nrow(d[is.na(d[,11]) == TRUE])
nrow(d[is.na(d[,11]) == FALSE])
nrow(d[is.na(d[,11]) == FALSE,])
nrow(d[is.na(d[,11]) == TRUE,])
nrow(d[is.na(d[,17]) == TRUE,])
nrow(d[is.na(d[,23]) == TRUE,])
source("rankhospital.R")
rankhospital("TX", "heart failure", 4)
rankhospital("TX", "heart failure", 4)
source("rankhospital.R")
rankhospital("TX", "heart failure", 4)
print(rankhospital("TX", "heart failure", 4))
rankhospital("TX", "heart failure", 4)
print(rankhospital("TX", "heart failure", 4))
source("rankhospital.R")
print(rankhospital("TX", "heart failure", 4))
source("rankhospital.R")
print(rankhospital("TX", "heart failure", 4))
source("rankhospital.R")
print(rankhospital("TX", "heart failure", 4))
source("rankhospital.R")
print(rankhospital("TX", "heart failure", 4))
head(rankhospital("TX", "heart failure", 4))
head(rankhospital("TX", "heart failure", 4)[3,]$Hospital.Name)
source("rankhospital.R")
head(rankhospital("TX", "heart failure", 4))
source("rankhospital.R")
head(rankhospital("TX", "heart failure", 4))
rankhospital("TX", "heart failure", 4)
source("rankhospital.R")
rankhospital("TX", "heart failure", 4)
rankhospital("TX", "heart failure", 4)[4]
source("rankhospital.R")
rankhospital("TX", "heart failure", 4)
rankhospital("TX", "heart failure", 4)[4]
head(rankhospital("TX", "heart failure", 4))
source("rankhospital.R")
head(rankhospital("TX", "heart failure", 4))
source("rankhospital.R")
head(rankhospital("TX", "heart failure", 4))
source("rankhospital.R")
rankhospital("TX", "heart failure", 4)
source("rankhospital.R")
rankhospital("TX", "heart failure", 4)
source("rankhospital.R")
rankhospital("TX", "heart failure", 4)[4]
rankhospital("TX", "heart failure", 4)[4,]
rankhospital("TX", "heart failure", 4)[4]
rankhospital("TX", "heart failure", 4)[[4]]
source("rankhospital.R")
rankhospital("TX", "heart failure", 4)
source("rankhospital.R")
rankhospital("TX", "heart failure", 4)
source("rankhospital.R")
rankhospital("TX", "heart failure", 4)
source("rankhospital.R")
rankhospital("TX", "heart failure", 4)
source("rankhospital.R")
rankhospital("TX", "heart failure", 4)
source("rankhospital.R")
rankhospital("TX", "heart failure", 4)
source("rankhospital.R")
rankhospital("TX", "heart failure", 4)
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
rankhospital("MD", "heart attack", 5000)
source("rankhospital.R")
rankhospital("MD", "heart attack", 5000)
source("rankhospital.R")
rankhospital("MD", "heart attack", 5000)
source("rankhospital.R")
rankhospital("MD", "heart attack", 5000)
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
source("rankhospital.R")
length(rankhospital("MD", "heart attack", "worst"))
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
rankhospital("TX", "heart failure", 4)
rankhospital("MN", "heart attack", 5000)
source("rankhospital.R")
rankhospital("MN", "heart attack", 5000)
rankhospital("TX", "heart failure", 4)
submit()
submit()
submit()
submit()
?sapply
source("rankall.R")
head(rankall("heart attack", 20), 10)
source("rankall.R")
head(rankall("heart attack", 20), 10)
source("rankall.R")
head(rankall("heart attack", 20), 10)
?apply
mapply
?mapply
source("rankall.R")
head(rankall("heart attack", 20), 10)
source("rankall.R")
head(rankall("heart attack", 20), 10)
source("rankall.R")
head(rankall("heart attack", 20), 10)
source("rankall.R")
head(rankall("heart attack", 20), 10)
source("rankall.R")
head(rankall("heart attack", 20), 10)
source("rankall.R")
head(rankall("heart attack", 20), 10)
source("rankall.R")
head(rankall("heart attack", 20), 10)
source("rankall.R")
head(rankall("heart attack", 20), 10)
rankall("heart attack", 20), 1
rankall("heart attack", 20)
source("rankall.R")
rankall("heart attack", 20)
source("rankall.R")
head(rankall("heart attack", 20))
source("rankall.R")
head(rankall("heart attack", 20))
source("rankall.R")
head(rankall("heart attack", 20))
source("rankall.R")
head(rankall("heart attack", 20))
source("rankall.R")
head(rankall("heart attack", 20))
source("rankall.R")
head(rankall("heart attack", 20))
source("rankall.R")
str(rankall("heart attack", 20))
source("rankall.R")
str(rankall("heart attack", 20))
source("rankall.R")
str(rankall("heart attack", 20))
?unlist
source("rankall.R")
unlist(rankall("heart attack", 20))
str(unlist(rankall("heart attack", 20)))
data.frame(unlist(rankall("heart attack", 20)))
